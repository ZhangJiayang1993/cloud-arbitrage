package com.arbitrage.provider.utils;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.arbitrage.api.enums.OddsTypeEnum;
import com.arbitrage.api.model.collection.CollectionGameDataResp;
import com.arbitrage.api.model.order.ArbitrageData;
import lombok.extern.slf4j.Slf4j;

import java.math.BigDecimal;
import java.math.RoundingMode;
import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

@Slf4j
public class CalculatorTwoWayArbitrage {

    /**
     * 二向计算器
     */
    public static List<ArbitrageData> calculate(List<CollectionGameDataResp> all) {
        // 实现二向计算逻辑
        List<ArbitrageData> arbitrageDataList = new ArrayList<>();
        for (CollectionGameDataResp gameData1 : all) {
            for (CollectionGameDataResp gameData2 : all) {
                if (gameData1.getLeagueId() != null && gameData1.getLeagueId().equals(gameData2.getLeagueId())
                        && gameData1.getHomeTeamId() != null && gameData1.getHomeTeamId().equals(gameData2.getHomeTeamId())
                        && gameData1.getAwayTeamId() != null && gameData1.getAwayTeamId().equals(gameData2.getAwayTeamId())) {
                    // 同一场比赛
                    // 遍历盘口类型
                    for (CollectionGameDataResp.OddsTypeResp oddsType1 : gameData1.getOdds()) {
                        for (CollectionGameDataResp.OddsTypeResp oddsType2 : gameData2.getOdds()) {
                            OddsTypeEnum oddsTypeEnum1 = OddsTypeEnum.getByOddsTypeId(oddsType1.getOddsTypeId());
                            OddsTypeEnum oddsTypeEnum2 = OddsTypeEnum.getByOddsTypeId(oddsType2.getOddsTypeId());

                            if (oddsTypeEnum1 == oddsTypeEnum2 && Objects.equals(oddsType1.getOddsData(), oddsType2.getOddsData())) {
                                // 同一种盘口类型
                                BigDecimal odds1;
                                BigDecimal odds2;

                                if (oddsTypeEnum1 == OddsTypeEnum.MONEY_LINE || oddsTypeEnum1 == OddsTypeEnum.HANDICAP) {
                                    odds1 = oddsType1.getHomeOdds();
                                    odds2 = oddsType2.getAwayOdds();
                                } else if (oddsTypeEnum1 == OddsTypeEnum.OVER_UNDER) {
                                    odds1 = oddsType1.getOverOdds();
                                    odds2 = oddsType2.getUnderOdds();
                                } else {
                                    continue;
                                }

                                BigDecimal arbitrageOpportunity = calculateArbitrageFactor(odds1, odds2);
                                if (hasArbitrageOpportunity(arbitrageOpportunity)) {
                                    log.info("二向套利机会: {} {} {} {} {} {} {}", gameData1.getPlatform(), gameData2.getPlatform(), gameData1.getTitle(), odds1, odds2, arbitrageOpportunity, oddsTypeEnum1);
                                    // 有套利空间
                                    ArbitrageData arbitrageData = new ArbitrageData(
                                            gameData1.getLeagueId(),
                                            gameData1.getLeague(),
                                            gameData1.getHomeTeamName() + " vs " + gameData1.getAwayTeamName(),
                                            gameData1.getHomeTeamCnName() + " vs " + gameData1.getAwayTeamCnName(),
                                            gameData1.getPlatformId(),
                                            gameData2.getPlatformId(),
                                            gameData1.getPlatform(),
                                            gameData2.getPlatform(),
                                            gameData1.getHomeTeamId(),
                                            gameData2.getAwayTeamId(),
                                            gameData1.getHomeTeamName(),
                                            gameData2.getAwayTeamName(),
                                            gameData1.getHomeTeamCnName(),
                                            gameData2.getAwayTeamCnName(),
                                            gameData1.getRebate(),
                                            gameData2.getRebate(),
                                            new JSONObject(gameData1.getExtendInfo()),
                                            new JSONObject(gameData2.getExtendInfo()),
                                            oddsType1.getOddsTypeId(),
                                            oddsType1.getOddsType(),
                                            oddsType1.getOddsData(),
                                            oddsType1.getHomeOdds(),
                                            oddsType1.getHomeMaxBettingAmount(),
                                            oddsType2.getAwayOdds(),
                                            oddsType2.getAwayMaxBettingAmount(),
                                            null, null,
                                            oddsType1.getOverOdds(),
                                            oddsType1.getOverMaxBettingAmount(),
                                            oddsType2.getUnderOdds(),
                                            oddsType2.getUnderMaxBettingAmount(),
                                            arbitrageOpportunity
                                    );
                                    arbitrageDataList.add(arbitrageData);
                                }
                            }
                        }
                    }
                }
            }
        }
        return arbitrageDataList;
    }

    static String polymarketData = "[{\"awayTeamCnName\":\"丹佛掘金队\",\"awayTeamId\":\"20\",\"awayTeamName\":\"Nuggets\",\"extendInfo\":{},\"homeTeamCnName\":\"纽约尼克斯队\",\"homeTeamId\":\"7\",\"homeTeamName\":\"Knicks\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.961,\"underOdds\":1.961},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.887,\"underOdds\":2.083},{\"awayOdds\":1.923,\"homeOdds\":2.000,\"oddsData\":\"6.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.818,\"homeOdds\":2.174,\"oddsData\":\"7.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":3.125,\"homeOdds\":1.449,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":2.083,\"homeOdds\":1.887,\"oddsData\":\"5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.041,\"underOdds\":1.923},{\"awayOdds\":2.273,\"homeOdds\":1.724,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"226.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.222,\"underOdds\":1.786}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Knicks vs Nuggets\"},{\"awayTeamCnName\":\"明尼苏达森林狼队\",\"awayTeamId\":\"13\",\"awayTeamName\":\"Timberwolves\",\"extendInfo\":{},\"homeTeamCnName\":\"多伦多猛龙队\",\"homeTeamId\":\"9\",\"homeTeamName\":\"Raptors\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"227.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.041,\"underOdds\":1.887},{\"awayOdds\":1.818,\"homeOdds\":2.174,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":2.083,\"homeOdds\":1.887,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.754,\"underOdds\":2.174},{\"oddsData\":\"226.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.923,\"underOdds\":2.041},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.852,\"underOdds\":2.128},{\"awayOdds\":1.923,\"homeOdds\":2.000,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.724,\"underOdds\":2.273}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Raptors vs Timberwolves\"},{\"awayTeamCnName\":\"波士顿凯尔特人队\",\"awayTeamId\":\"6\",\"awayTeamName\":\"Celtics\",\"extendInfo\":{},\"homeTeamCnName\":\"休斯敦火箭队\",\"homeTeamId\":\"25\",\"homeTeamName\":\"Rockets\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"213.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.887,\"underOdds\":2.083},{\"oddsData\":\"214.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.000,\"underOdds\":1.961},{\"awayOdds\":2.703,\"homeOdds\":1.563,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":1.754,\"homeOdds\":2.273,\"oddsData\":\"6.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"217.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.222,\"underOdds\":1.724},{\"awayOdds\":2.000,\"homeOdds\":1.887,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"216.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.222,\"underOdds\":1.786},{\"oddsData\":\"215.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.128,\"underOdds\":1.852},{\"awayOdds\":1.852,\"homeOdds\":2.128,\"oddsData\":\"5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Rockets vs Celtics\"},{\"awayTeamCnName\":\"新奥尔良鹈鹕队\",\"awayTeamId\":\"17\",\"awayTeamName\":\"Pelicans\",\"extendInfo\":{},\"homeTeamCnName\":\"密尔沃基雄鹿队\",\"homeTeamId\":\"10\",\"homeTeamName\":\"Bucks\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"221.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.887,\"underOdds\":2.041},{\"awayOdds\":1.587,\"homeOdds\":2.632,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":2.083,\"homeOdds\":1.887,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.041,\"underOdds\":1.923},{\"awayOdds\":1.887,\"homeOdds\":2.041,\"oddsData\":\"5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Bucks vs Pelicans\"},{\"awayTeamCnName\":\"俄克拉荷马城雷霆队\",\"awayTeamId\":\"24\",\"awayTeamName\":\"Thunder\",\"extendInfo\":{},\"homeTeamCnName\":\"圣安东尼奥马刺队\",\"homeTeamId\":\"22\",\"homeTeamName\":\"Spurs\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.000,\"underOdds\":1.961},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.222,\"underOdds\":1.754},{\"awayOdds\":1.887,\"homeOdds\":2.083,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":1.961,\"homeOdds\":1.961,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.174,\"underOdds\":1.818},{\"awayOdds\":1.852,\"homeOdds\":2.083,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.381,\"underOdds\":1.667},{\"oddsData\":\"226.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.500,\"underOdds\":1.587}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Spurs vs Thunder\"},{\"awayTeamCnName\":\"孟菲斯灰熊队\",\"awayTeamId\":\"23\",\"awayTeamName\":\"Grizzlies\",\"extendInfo\":{},\"homeTeamCnName\":\"萨克拉门托国王队\",\"homeTeamId\":\"19\",\"homeTeamName\":\"Kings\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"oddsData\":\"232.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.083,\"underOdds\":1.887},{\"oddsData\":\"231.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.923,\"underOdds\":2.000},{\"awayOdds\":1.961,\"homeOdds\":2.000,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":1.887,\"homeOdds\":2.083,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.786,\"homeOdds\":2.222,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"230.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.887,\"underOdds\":2.083},{\"oddsData\":\"228.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.695,\"underOdds\":2.273},{\"oddsData\":\"229.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.786,\"underOdds\":2.222}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Kings vs Grizzlies\"},{\"awayTeamCnName\":\"克利夫兰骑士队\",\"awayTeamId\":\"30\",\"awayTeamName\":\"Cavaliers\",\"extendInfo\":{},\"homeTeamCnName\":\"洛杉矶快船队\",\"homeTeamId\":\"29\",\"homeTeamName\":\"Clippers\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.818,\"homeOdds\":2.174,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1},{\"awayOdds\":1.887,\"homeOdds\":2.083,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"221.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.852,\"underOdds\":2.083},{\"awayOdds\":2.083,\"homeOdds\":1.887,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.083,\"underOdds\":1.887},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.961,\"underOdds\":2.000}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Clippers vs Cavaliers\"},{\"awayTeamCnName\":\"华盛顿奇才队\",\"awayTeamId\":\"21\",\"awayTeamName\":\"Wizards\",\"extendInfo\":{},\"homeTeamCnName\":\"底特律活塞队\",\"homeTeamId\":\"4\",\"homeTeamName\":\"Pistons\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":9.091,\"homeOdds\":1.111,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Pistons vs Wizards\"},{\"awayTeamCnName\":\"布鲁克林篮网队\",\"awayTeamId\":\"26\",\"awayTeamName\":\"Nets\",\"extendInfo\":{},\"homeTeamCnName\":\"奥兰多魔术队\",\"homeTeamId\":\"2\",\"homeTeamName\":\"Magic\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":5.263,\"homeOdds\":1.220,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"POLYMARKET\",\"platformId\":2,\"rebate\":0,\"title\":\"Magic vs Nets\"}]";

    static String psData = "[{\"awayTeamCnName\":\"俄克拉荷马城雷霆队\",\"awayTeamId\":\"24\",\"awayTeamName\":\"Thunder\",\"extendInfo\":{\"eventId\":\"1623190599\",\"id\":\"487\"},\"homeTeamCnName\":\"圣安东尼奥马刺队\",\"homeTeamId\":\"22\",\"homeTeamName\":\"Spurs\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.934,\"homeOdds\":1.970,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.330,\"homeOdds\":1.649,\"oddsData\":\"4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.240,\"homeOdds\":1.699,\"oddsData\":\"3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.160,\"homeOdds\":1.746,\"oddsData\":\"3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.080,\"homeOdds\":1.806,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.000,\"homeOdds\":1.869,\"oddsData\":\"2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.862,\"homeOdds\":2.010,\"oddsData\":\"1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.775,\"homeOdds\":2.120,\"oddsData\":\"-1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.740,\"homeOdds\":2.180,\"oddsData\":\"-1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.689,\"homeOdds\":2.260,\"oddsData\":\"-2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.645,\"homeOdds\":2.340,\"oddsData\":\"-2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.952,\"underOdds\":1.934},{\"oddsData\":\"220.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.724,\"underOdds\":2.180},{\"oddsData\":\"220.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.763,\"underOdds\":2.120},{\"oddsData\":\"221.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.800,\"underOdds\":2.070},{\"oddsData\":\"221.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.840,\"underOdds\":2.020},{\"oddsData\":\"222.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.884,\"underOdds\":1.970},{\"oddsData\":\"223.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.980,\"underOdds\":1.877},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.030,\"underOdds\":1.833},{\"oddsData\":\"224.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.080,\"underOdds\":1.793},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.130,\"underOdds\":1.757},{\"oddsData\":\"225.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.190,\"underOdds\":1.719},{\"awayOdds\":1.862,\"homeOdds\":2.060,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"San Antonio Spurs vs Oklahoma City Thunder\"},{\"awayTeamCnName\":\"孟菲斯灰熊队\",\"awayTeamId\":\"23\",\"awayTeamName\":\"Grizzlies\",\"extendInfo\":{\"eventId\":\"1623190600\",\"id\":\"487\"},\"homeTeamCnName\":\"萨克拉门托国王队\",\"homeTeamId\":\"19\",\"homeTeamName\":\"Kings\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.892,\"homeOdds\":2.010,\"oddsData\":\"-1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.250,\"homeOdds\":1.709,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.180,\"homeOdds\":1.757,\"oddsData\":\"2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.100,\"homeOdds\":1.813,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.050,\"homeOdds\":1.847,\"oddsData\":\"1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.943,\"homeOdds\":1.943,\"oddsData\":\"-1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.813,\"homeOdds\":2.090,\"oddsData\":\"-2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.751,\"homeOdds\":2.180,\"oddsData\":\"-2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.694,\"homeOdds\":2.270,\"oddsData\":\"-3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.649,\"homeOdds\":2.360,\"oddsData\":\"-3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.602,\"homeOdds\":2.460,\"oddsData\":\"-4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"231.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.980,\"underOdds\":1.909},{\"oddsData\":\"229.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.763,\"underOdds\":2.140},{\"oddsData\":\"229.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.806,\"underOdds\":2.080},{\"oddsData\":\"230.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.840,\"underOdds\":2.040},{\"oddsData\":\"230.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.884,\"underOdds\":1.990},{\"oddsData\":\"231.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.925,\"underOdds\":1.943},{\"oddsData\":\"232.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.020,\"underOdds\":1.854},{\"oddsData\":\"232.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.060,\"underOdds\":1.819},{\"oddsData\":\"233.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.110,\"underOdds\":1.781},{\"oddsData\":\"233.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.160,\"underOdds\":1.751},{\"oddsData\":\"234.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.220,\"underOdds\":1.709},{\"awayOdds\":1.970,\"homeOdds\":1.934,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"Sacramento Kings vs Memphis Grizzlies\"},{\"awayTeamCnName\":\"丹佛掘金队\",\"awayTeamId\":\"20\",\"awayTeamName\":\"Nuggets\",\"extendInfo\":{\"eventId\":\"1623187044\",\"id\":\"487\"},\"homeTeamCnName\":\"纽约尼克斯队\",\"homeTeamId\":\"7\",\"homeTeamName\":\"Knicks\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.925,\"homeOdds\":1.980,\"oddsData\":\"-7.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.330,\"homeOdds\":1.666,\"oddsData\":\"-4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.240,\"homeOdds\":1.714,\"oddsData\":\"-5.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.160,\"homeOdds\":1.769,\"oddsData\":\"-5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.080,\"homeOdds\":1.826,\"oddsData\":\"-6.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.000,\"homeOdds\":1.892,\"oddsData\":\"-6.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.840,\"homeOdds\":2.060,\"oddsData\":\"-7.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.775,\"homeOdds\":2.150,\"oddsData\":\"-8.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.719,\"homeOdds\":2.230,\"oddsData\":\"-8.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.671,\"homeOdds\":2.320,\"oddsData\":\"-9.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.621,\"homeOdds\":2.420,\"oddsData\":\"-9.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.917,\"underOdds\":1.970},{\"oddsData\":\"222.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.709,\"underOdds\":2.220},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.751,\"underOdds\":2.160},{\"oddsData\":\"223.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.781,\"underOdds\":2.110},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.826,\"underOdds\":2.060},{\"oddsData\":\"224.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.862,\"underOdds\":2.010},{\"oddsData\":\"225.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.952,\"underOdds\":1.917},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.000,\"underOdds\":1.877},{\"oddsData\":\"226.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.050,\"underOdds\":1.833},{\"oddsData\":\"226.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.090,\"underOdds\":1.800},{\"oddsData\":\"227.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.150,\"underOdds\":1.757},{\"awayOdds\":3.240,\"homeOdds\":1.389,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"New York Knicks vs Denver Nuggets\"},{\"awayTeamCnName\":\"波士顿凯尔特人队\",\"awayTeamId\":\"6\",\"awayTeamName\":\"Celtics\",\"extendInfo\":{\"eventId\":\"1623187053\",\"id\":\"487\"},\"homeTeamCnName\":\"休斯敦火箭队\",\"homeTeamId\":\"25\",\"homeTeamName\":\"Rockets\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":2.010,\"homeOdds\":1.892,\"oddsData\":\"-4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.450,\"homeOdds\":1.606,\"oddsData\":\"-2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.360,\"homeOdds\":1.649,\"oddsData\":\"-2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.270,\"homeOdds\":1.694,\"oddsData\":\"-3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.180,\"homeOdds\":1.746,\"oddsData\":\"-3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.100,\"homeOdds\":1.813,\"oddsData\":\"-4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.925,\"homeOdds\":1.961,\"oddsData\":\"-5.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.854,\"homeOdds\":2.040,\"oddsData\":\"-5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.793,\"homeOdds\":2.120,\"oddsData\":\"-6.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.740,\"homeOdds\":2.200,\"oddsData\":\"-6.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.689,\"homeOdds\":2.290,\"oddsData\":\"-7.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"214.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.925,\"underOdds\":1.961},{\"oddsData\":\"211.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.714,\"underOdds\":2.220},{\"oddsData\":\"212.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.746,\"underOdds\":2.170},{\"oddsData\":\"212.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.787,\"underOdds\":2.110},{\"oddsData\":\"213.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.826,\"underOdds\":2.060},{\"oddsData\":\"213.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.869,\"underOdds\":2.000},{\"oddsData\":\"214.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.961,\"underOdds\":1.909},{\"oddsData\":\"215.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.010,\"underOdds\":1.862},{\"oddsData\":\"215.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.060,\"underOdds\":1.819},{\"oddsData\":\"216.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.120,\"underOdds\":1.781},{\"oddsData\":\"216.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.170,\"underOdds\":1.746},{\"awayOdds\":2.700,\"homeOdds\":1.523,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"Houston Rockets vs Boston Celtics\"},{\"awayTeamCnName\":\"新奥尔良鹈鹕队\",\"awayTeamId\":\"17\",\"awayTeamName\":\"Pelicans\",\"extendInfo\":{\"eventId\":\"1623185576\",\"id\":\"487\"},\"homeTeamCnName\":\"密尔沃基雄鹿队\",\"homeTeamId\":\"10\",\"homeTeamName\":\"Bucks\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.952,\"homeOdds\":1.952,\"oddsData\":\"5.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.370,\"homeOdds\":1.645,\"oddsData\":\"7.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.280,\"homeOdds\":1.694,\"oddsData\":\"7.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.200,\"homeOdds\":1.740,\"oddsData\":\"6.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.110,\"homeOdds\":1.800,\"oddsData\":\"6.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.030,\"homeOdds\":1.862,\"oddsData\":\"5.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.862,\"homeOdds\":2.030,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.800,\"homeOdds\":2.110,\"oddsData\":\"4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.740,\"homeOdds\":2.200,\"oddsData\":\"3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.689,\"homeOdds\":2.280,\"oddsData\":\"3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.645,\"homeOdds\":2.370,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.952,\"underOdds\":1.934},{\"oddsData\":\"220.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.740,\"underOdds\":2.170},{\"oddsData\":\"220.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.781,\"underOdds\":2.120},{\"oddsData\":\"221.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.813,\"underOdds\":2.070},{\"oddsData\":\"221.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.854,\"underOdds\":2.020},{\"oddsData\":\"222.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.900,\"underOdds\":1.970},{\"oddsData\":\"223.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.990,\"underOdds\":1.884},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.040,\"underOdds\":1.840},{\"oddsData\":\"224.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.090,\"underOdds\":1.800},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.140,\"underOdds\":1.769},{\"oddsData\":\"225.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.200,\"underOdds\":1.724},{\"awayOdds\":1.546,\"homeOdds\":2.630,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"Milwaukee Bucks vs New Orleans Pelicans\"},{\"awayTeamCnName\":\"克利夫兰骑士队\",\"awayTeamId\":\"30\",\"awayTeamName\":\"Cavaliers\",\"extendInfo\":{\"eventId\":\"1623190607\",\"id\":\"487\"},\"homeTeamCnName\":\"洛杉矶快船队\",\"homeTeamId\":\"29\",\"homeTeamName\":\"Clippers\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.952,\"homeOdds\":1.952,\"oddsData\":\"2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.370,\"homeOdds\":1.645,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.280,\"homeOdds\":1.694,\"oddsData\":\"4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.190,\"homeOdds\":1.740,\"oddsData\":\"3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.110,\"homeOdds\":1.800,\"oddsData\":\"3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.030,\"homeOdds\":1.869,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.862,\"homeOdds\":2.030,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.819,\"homeOdds\":2.090,\"oddsData\":\"1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.740,\"homeOdds\":2.200,\"oddsData\":\"-1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.709,\"homeOdds\":2.250,\"oddsData\":\"-1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.662,\"homeOdds\":2.340,\"oddsData\":\"-2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"223.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.000,\"underOdds\":1.892},{\"oddsData\":\"220.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.781,\"underOdds\":2.120},{\"oddsData\":\"221.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.813,\"underOdds\":2.070},{\"oddsData\":\"221.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.854,\"underOdds\":2.020},{\"oddsData\":\"222.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.900,\"underOdds\":1.970},{\"oddsData\":\"222.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.943,\"underOdds\":1.925},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.030,\"underOdds\":1.847},{\"oddsData\":\"224.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.080,\"underOdds\":1.806},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.130,\"underOdds\":1.769},{\"oddsData\":\"225.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.180,\"underOdds\":1.735},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.230,\"underOdds\":1.704},{\"awayOdds\":1.800,\"homeOdds\":2.130,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"Los Angeles Clippers vs Cleveland Cavaliers\"},{\"awayTeamCnName\":\"明尼苏达森林狼队\",\"awayTeamId\":\"13\",\"awayTeamName\":\"Timberwolves\",\"extendInfo\":{\"eventId\":\"1623187049\",\"id\":\"487\"},\"homeTeamCnName\":\"多伦多猛龙队\",\"homeTeamId\":\"9\",\"homeTeamName\":\"Raptors\",\"league\":\"NBA\",\"leagueId\":1,\"odds\":[{\"awayOdds\":1.961,\"homeOdds\":1.943,\"oddsData\":\"2.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.370,\"homeOdds\":1.628,\"oddsData\":\"5.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.280,\"homeOdds\":1.675,\"oddsData\":\"4.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.200,\"homeOdds\":1.724,\"oddsData\":\"4.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.120,\"homeOdds\":1.781,\"oddsData\":\"3.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":2.030,\"homeOdds\":1.847,\"oddsData\":\"3.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.869,\"homeOdds\":2.000,\"oddsData\":\"2.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.800,\"homeOdds\":2.090,\"oddsData\":\"1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.763,\"homeOdds\":2.140,\"oddsData\":\"1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.694,\"homeOdds\":2.250,\"oddsData\":\"-1.0\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"awayOdds\":1.666,\"homeOdds\":2.300,\"oddsData\":\"-1.5\",\"oddsType\":\"让球盘\",\"oddsTypeId\":2},{\"oddsData\":\"226.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.877,\"underOdds\":2.010},{\"oddsData\":\"223.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.680,\"underOdds\":2.250},{\"oddsData\":\"224.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.709,\"underOdds\":2.200},{\"oddsData\":\"224.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.746,\"underOdds\":2.140},{\"oddsData\":\"225.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.781,\"underOdds\":2.090},{\"oddsData\":\"225.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.826,\"underOdds\":2.040},{\"oddsData\":\"226.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.909,\"underOdds\":1.943},{\"oddsData\":\"227.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":1.952,\"underOdds\":1.900},{\"oddsData\":\"227.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.000,\"underOdds\":1.862},{\"oddsData\":\"228.0\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.050,\"underOdds\":1.813},{\"oddsData\":\"228.5\",\"oddsType\":\"大小盘\",\"oddsTypeId\":3,\"overOdds\":2.100,\"underOdds\":1.781},{\"awayOdds\":1.751,\"homeOdds\":2.200,\"oddsType\":\"胜负盘\",\"oddsTypeId\":1}],\"platform\":\"PS\",\"platformId\":1,\"rebate\":0,\"title\":\"Toronto Raptors vs Minnesota Timberwolves\"}]";


    public static void main(String[] args) {
        List<CollectionGameDataResp> polymarketList = JSONArray.parseArray(polymarketData).toJavaList(CollectionGameDataResp.class);

        List<CollectionGameDataResp> psList = JSONArray.parseArray(psData, CollectionGameDataResp.class);

        List<CollectionGameDataResp> all = new ArrayList<>();
        all.addAll(polymarketList);
        all.addAll(psList);

        List<ArbitrageData> arbitrageDataList = calculate(all);
        System.out.println(JSONObject.toJSONString(arbitrageDataList));
    }

    /**
     * 二向计算器
     * 计算套利因子
     */
    public static BigDecimal calculateArbitrageFactor(BigDecimal odds1, BigDecimal odds2) {
        // 校验参数
        if (odds1 == null || odds2 == null) {
            return null;
        }
        // 计算套利因子
        return BigDecimal.ONE.divide(odds1, 4, RoundingMode.HALF_UP)
                .add(BigDecimal.ONE.divide(odds2, 4, RoundingMode.HALF_UP));
    }

    /**
     * 是否有套利空间
     */
    public static boolean hasArbitrageOpportunity(BigDecimal arbitrageOpportunity) {
        if (arbitrageOpportunity == null) {
            return false;
        }
        return arbitrageOpportunity.compareTo(BigDecimal.ONE) < 0;
    }

}
